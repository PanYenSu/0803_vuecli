(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bd12821"],{"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),r=s("e8b5"),c=s("861d"),n=s("7b0b"),o=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),p=s("b622"),h=s("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!e((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),C=d("concat"),y=function(t){if(!c(t))return!1;var a=t[v];return void 0!==a?!!a:r(t)},b=!m||!C;i({target:"Array",proto:!0,forced:b},{concat:function(t){var a,s,i,e,r,c=n(this),d=u(c,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(r=-1===a?c:arguments[a],y(r)){if(e=o(r.length),p+e>f)throw TypeError(g);for(s=0;s<e;s++,p++)s in r&&l(d,p,r[s])}else{if(p>=f)throw TypeError(g);l(d,p++,r)}return d.length=p,d}})},eed1:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container py-3"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),t._m(1),s("div",{staticClass:"body"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"text-right mb-3"},[s("button",{staticClass:"badge-warm4 btn btn-outline-warm1 btn-sm",attrs:{type:"button",disabled:0===t.quantity},on:{click:function(a){return t.removeAllCartItem()}}},[s("i",{staticClass:"far fa-trash-alt"},[t._v(" 刪除所有品項")])])]),s("table",{staticClass:"table table-hover"},[t._m(2),t.cartProducts.length?s("tbody",t._l(t.cartProducts,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("button",{staticClass:"badge-warm4 btn btn-outline-warm1 btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeCartItem(a.product)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",{staticClass:"align-middle"},[s("a",{attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.$router.push("/product/"+a.product.id)}}},[s("img",{staticClass:"mr-2",staticStyle:{width:"80px",height:"60px","object-fit":"cover"},attrs:{src:a.product.imageUrl[0],alt:""}})])]),s("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),s("td",{staticClass:"align-middle"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:1===a.quantity},on:{click:function(s){return t.quantityUpdata(a.product.id,a.quantity-1)}}},[t._v(" - ")])]),s("input",{staticClass:"form-control text-center",attrs:{id:"inlineFormInputGroupUsername",type:"text",disabled:""},domProps:{value:a.quantity},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.quantityUpdata(a.product.id,s.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(s){return t.quantityUpdata(a.product.id,a.quantity+1)}}},[t._v(" + ")])])])]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.unit)+" ")]),s("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price*a.quantity))+" ")])])})),0):t._e()]),s("hr"),s("div",{staticClass:"d-flex justify-content-end"},[t.cartTotal<1e3?s("p",[t._v("共 "+t._s(t.quantity)+" 件商品 / 運費(1000免運): NT $60")]):s("p",[t._v("共 "+t._s(t.quantity)+" 件商品 / 運費(滿 NT$ 1000 免運): NT $0")])]),s("div",{staticClass:"d-flex justify-content-end"},[t.cartTotal<1e3?s("p",[t._v("購物金額總計: "),s("strong",{staticClass:"text-danger"},[t._v(" NT "+t._s(t._f("currency")(t.cartTotal+60))+" ")])]):s("p",[t._v("購物金額總計:"),s("strong",{staticClass:"text-danger"},[t._v(" NT "+t._s(t._f("currency")(t.cartTotal))+" ")])])])])]),s("div",{staticClass:"modal-footer d-flex justify-content-center"},[s("button",{staticClass:"w-25 badge-light2 btn btn-light",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/products")}}},[s("i",{staticClass:"fas fa-reply px-md-2"}),t._v("繼續購物")]),s("button",{staticClass:"w-25 badge-secondary btn btn-primary",attrs:{type:"button",disabled:0===t.cartTotal},on:{click:function(a){return t.$router.push("/orderForm")}}},[t._v(" 確認訂購 ")])]),t._m(3)],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar bg-warm3 progress-bar-striped progress-bar-animated",staticStyle:{width:"30%"},attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}},[s("span",{staticClass:"sr-only"},[t._v("30% 完成")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("h5",{staticClass:"title py-3"},[t._v("購物清單")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("刪除")]),s("th",{attrs:{scope:"col"}}),s("th",{attrs:{scope:"col"}},[t._v("品名")]),s("th",{attrs:{scope:"col",width:"150px"}},[t._v("數量")]),s("th",{attrs:{scope:"col"}},[t._v("單位")]),s("th",{attrs:{scope:"col"}},[t._v("金額")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-light mt-7"},[s("div",{staticClass:"container"},[s("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleControls","data-ride":"carousel"}},[s("div",{staticClass:"carousel-inner"},[s("img",{staticClass:"mr-2",staticStyle:{width:"1070px",height:"170px","object-fit":"cover",opacity:"0.5"},attrs:{src:"https://images.unsplash.com/photo-1545387804-ff58d3817f91?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",alt:""}}),s("div",{staticClass:"carousel-item active"},[s("div",{staticClass:"row justify-content-center py-7",staticStyle:{opacity:"1"}},[s("div",{staticClass:"col-md-6 text-center text-light"},[s("h3",{staticClass:"py-1"},[t._v("狗狗會感冒嗎？")]),s("p",{staticClass:"my-1"},[t._v("“當然會囉！, 此外，幼犬也容易得到一種名為 犬傳染性氣管支氣管炎的疾病， 也就是俗稱的「犬窩咳」。”")]),s("p",[s("small",[t._v("—"),s("a",{staticClass:"text-light",staticStyle:{"text-decoration":"none"},attrs:{href:"https://reurl.cc/gm2z5R",target:"_blank"}},[t._v(" 新手狗爸媽的常見QA｜專業獸醫—吳展祥")]),t._v("—")])])])])]),s("div",{staticClass:"carousel-item"},[s("div",{staticClass:"row justify-content-center py-7"},[s("div",{staticClass:"col-md-6 text-center text-light"},[s("h3",{staticClass:"py-1"},[t._v("狗狗多久洗一次澡？")]),s("p",{staticClass:"my-1"},[t._v("“一般建議7-10天洗一次即可。 由於狗狗的皮膚表層和人類不同， 洗得太勤反而會破壞表皮的細菌生態， 反而引起皮膚方面的疾病。”")]),s("p",[s("small",[t._v("—"),s("a",{staticClass:"text-light",staticStyle:{"text-decoration":"none"},attrs:{href:"https://reurl.cc/gm2z5R",target:"_blank"}},[t._v(" 新手狗爸媽的常見QA｜專業獸醫—吳展祥")]),t._v("—")])])])])]),s("div",{staticClass:"carousel-item"},[s("div",{staticClass:"row justify-content-center py-7"},[s("div",{staticClass:"col-md-8 text-center text-light"},[s("h3",{staticClass:"py-1"},[t._v("狗狗也有分血型嗎？")]),s("p",{staticClass:"my-1"},[t._v("“狗狗的血型可分成13種， 若不小心輸錯血，狗狗身體小、血液循環快， 很可能造成體內免疫系統失衡， 而由壁蝨帶原的「焦蟲症」， 會破壞紅血球，導致氧氣難以被運送， 若紅血球指數低於15%，就需要馬上輸血！”")]),s("p",[s("small",[t._v("—"),s("a",{staticClass:"text-light",staticStyle:{"text-decoration":"none"},attrs:{href:"https://reurl.cc/gm2z5R",target:"_blank"}},[t._v(" 新手狗爸媽的常見QA｜專業獸醫—吳展祥")]),t._v("—")])])])])])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])])])}],r=(s("99af"),s("4160"),s("159b"),s("130b")),c={data:function(){return{isLoading:!1,quantity:0,cartProducts:{},cartTotal:0,uuid:"7f1638b3-f468-4c9d-a7b1-49b0ae75cd3d",path:"https://course-ec-api.hexschool.io/api/"}},methods:{removeCartItem:function(t){var a=this,s="".concat(this.path).concat(this.uuid,"/ec/shopping/").concat(t.id);this.$http.delete(s).then((function(){a.getCartList(),a.isLoading=!1,a.$bus.$emit("get-cart"),r["a"].fire({title:"已將".concat(t.title,"移除!"),icon:"success"})})).catch((function(t){a.isLoading=!1,console.log(t)}))},removeAllCartItem:function(){var t=this;this.cartProducts=[],this.cartTotal=0;var a="".concat(this.path).concat(this.uuid,"/ec/shopping/all/product");this.$http.delete(a).then((function(){t.getCartList(),t.isLoading=!1,t.$bus.$emit("get-cart"),r["a"].fire({title:"購物車商品已全部刪除!",icon:"success"})})).catch((function(a){t.isLoading=!1,console.log(a)})),this.quantity=0},quantityUpdata:function(t,a){var s=this;this.isLoading=!0;var i="".concat(this.path).concat(this.uuid,"/ec/shopping"),e={product:t,quantity:a};this.$http.patch(i,e).then((function(){s.isLoading=!1,s.getCartList(),s.$bus.$emit("get-cart")}))},getCartList:function(){var t=this;this.isLoading=!0;var a="".concat(this.path).concat(this.uuid,"/ec/shopping");this.$http.get(a).then((function(a){t.cartProducts=a.data.data,t.isLoading=!1,t.cartTotal=0,t.quantity=0,t.cartProducts.forEach((function(a){t.cartTotal+=a.product.price*a.quantity,t.quantity+=a.quantity}))})).catch((function(a){t.isLoading=!1,t.$bus.$emit("message:push","購物車載入失敗，".concat(a),"danger")}))}},created:function(){this.getCartList()}},n=c,o=s("2877"),l=Object(o["a"])(n,i,e,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1bd12821.a5ffe7e9.js.map